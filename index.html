<!doctype html>
<html lang="bn">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Gatehub — Start.io Banner + Moniteg Test</title>
  <style>
    :root{
      --bg:#f6fbff;
      --card:#ffffff;
      --accent:#0b74de;
      --muted:#6b7a8a;
    }
    body{font-family:system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial; margin:0; background:var(--bg); color:#042034;}
    .wrap{max-width:980px;margin:28px auto;padding:16px;}
    .card{background:var(--card);padding:18px;border-radius:12px;box-shadow:0 8px 30px rgba(2,6,23,0.06);}
    h1{margin:0 0 6px;font-size:20px;}
    p{margin:0 0 12px;color:var(--muted)}
    .controls{display:flex;gap:8px;flex-wrap:wrap;margin-top:12px}
    .btn{display:inline-block;padding:10px 14px;border-radius:10px;background:var(--accent);color:#fff;text-decoration:none;font-weight:600;cursor:pointer;border:0}
    .ghost{background:transparent;color:var(--accent);border:1px solid rgba(11,116,222,0.14)}
    .small{font-size:13px;color:var(--muted);margin-top:8px}
    /* banner container (bottom) */
    #banner-container {
      position: fixed;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      width: min(95%, 920px);
      max-width: 920px;
      z-index: 9999;
      pointer-events: auto;
    }
    /* moniteg floating button (for testing) */
    #moniteg-btn {
      position: fixed;
      right: 20px;
      bottom: 120px;
      z-index: 9998;
      border-radius: 10px;
      padding: 10px 14px;
      background: linear-gradient(90deg,#ff7a00,#ffb86b);
      color: white;
      font-weight:700;
      box-shadow: 0 10px 30px rgba(2,6,23,0.12);
      text-decoration: none;
    }
    footer{margin-top:14px;color:var(--muted);font-size:13px}
    pre{background:#f1f6fb;padding:10px;border-radius:8px;overflow:auto}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <h1>Gatehub — Start.io Banner + Moniteg Link (Test)</h1>
      <p>এই পেইজটি শুধুমাত্র টেস্ট/ডেভেলপমেন্টের জন্য। নিচে ইনস্ট্রাকশনগুলো অনুসরণ করে `APP_ID` এবং `MONITEG_LINK` বদলাও।</p>

      <div class="controls">
        <button id="showBanner" class="btn">ব্যানার দেখাও</button>
        <button id="hideBanner" class="btn ghost">ব্যানার লুকাও</button>
        <label style="align-self:center;margin-left:6px;">
          <input type="checkbox" id="testMode" checked> Test mode (SDK)
        </label>
      </div>

      <div class="small">নোট: ডেভটুলস → Console থেকে ইভেন্ট/লগ চেক করো — ক্লিক লোকাল লগ হবে।</div>
      <footer>সতর্কতা: লাইভ অ্যাড নেটওয়ার্কে ভুয়া ট্রাফিক/ইমপ্রেশন তৈরি করা নিষিদ্ধ।</footer>
    </div>
  </div>

  <!-- Banner container: Start.io SDK এখানে ব্যানার এমবেড করবে -->
  <div id="banner-container"></div>

  <!-- Moniteg / direct link floating button -->
  <a id="moniteg-btn" href="#" target="_blank" rel="noopener noreferrer">Moniteg Link</a>

  <!-- Start.io SDK -->
  <!-- NOTE: যদি তোমার প্রকৃত SDK URL আলাদা হয়, সেটা দিয়ে বদলাও -->
  <script src="https://sdk.startappservice.com/1.5/sdk.js"></script>

  <script>
    /*
     * >>>>>>>>  পরিবর্তন করার জায়গা  <<<<<<<<
     * 1) const APP_ID = "..."  (Start.io App ID)
     * 2) const MONITEG_LINK = "..."  (তোমার Moniteg ডাইরেক্ট ট্র্যাকিং লিংক)
     * 3) testModeCheckbox.checked true/false (Test → Live)
     *
     * **অনুগ্রহ করে প্লেসহোল্ডার না রেখে রিয়েল ভ্যালু বসাও।**
     */

    // ১) Start.io App ID (নিচের স্ট্রিং পরিবর্তন করো)
    const APP_ID = "YOUR_APP_ID_HERE";

    // ২) Moniteg direct link (নিচের স্ট্রিং পরিবর্তন করো)
    const MONITEG_LINK = "YOUR_MONITEG_LINK_HERE";

    // DOM refs
    const testModeCheckbox = document.getElementById('testMode');
    const mgBtn = document.getElementById('moniteg-btn');
    const bannerContainer = document.getElementById('banner-container');

    // apply MONITEG_LINK
    mgBtn.href = MONITEG_LINK;

    // small safety warning in console if placeholders remain
    if (APP_ID.includes("YOUR_APP_ID") || MONITEG_LINK.includes("YOUR_MONITEG_LINK")) {
      console.warn("Reminder: Replace APP_ID and MONITEG_LINK placeholders before real testing.");
    }

    // Initialize Start.io SDK only if APP_ID is set
    (function initStartIo(){
      if (!APP_ID || APP_ID.includes("YOUR_APP_ID")) {
        console.warn("APP_ID not set. Start.io SDK init skipped. Fill APP_ID to enable banner.");
        return;
      }

      // try/catch to avoid script-halting errors if SDK shape different
      try {
        startApp.init(APP_ID, {
          autoShowBanner: false,
          testMode: testModeCheckbox.checked
        });
        console.log("Start.io SDK initialized (testMode=" + testModeCheckbox.checked + ").");
      } catch (e) {
        console.error("Start.io init error:", e);
      }
    })();

    // banner control helpers
    function createBanner() {
      try {
        // safe-call: if banner method exists
        if (typeof startApp !== "undefined" && typeof startApp.banner === "function") {
          startApp.banner({
            container: bannerContainer,
            position: "bottom",
            autoRefresh: true
          });
          console.log("Start.io banner invoked.");
        } else {
          console.warn("startApp.banner not available — check SDK or APP_ID.");
        }
      } catch (err) {
        console.error("createBanner error:", err);
      }
    }

    function hideBanner() {
      try {
        if (typeof startApp !== "undefined" && typeof startApp.hideBanner === "function") {
          startApp.hideBanner();
          console.log("startApp.hideBanner called.");
        } else {
          // fallback: clear container
          bannerContainer.innerHTML = "";
          console.log("Banner container cleared (fallback).");
        }
      } catch (err) {
        console.error("hideBanner error:", err);
      }
    }

    // button bindings
    document.getElementById('showBanner').addEventListener('click', createBanner);
    document.getElementById('hideBanner').addEventListener('click', hideBanner);

    // Moniteg button click logging (local/test only)
    mgBtn.addEventListener('click', function(e){
      console.log('Moniteg button clicked — opening:', mgBtn.href);
      // Optional: for testing, you can send a fetch to your analytics endpoint
      // fetch('/log-click', {method:'POST', body: JSON.stringify({url: mgBtn.href, ts: Date.now()})});
    });

    // small click-throttle to avoid accidental double-clicks during testing
    (function safetyThrottle(){
      let lastClick = 0;
      mgBtn.addEventListener('click', function(e){
        const now = Date.now();
        if (now - lastClick < 400) {
          e.preventDefault();
          console.warn('Click throttled (too fast).');
          return false;
        }
        lastClick = now;
        return true;
      });
    })();

    console.log("Gatehub test page ready.");
  </script>
</body>
</html>

